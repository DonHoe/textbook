import{_ as s,c as a,o as n,b as o}from"./app.a6c93100.js";const A=JSON.parse('{"title":"记录","description":"","frontmatter":{},"headers":[{"level":2,"title":"Spring Boot get请求中的特殊字符，报400 bad request","slug":"spring-boot-get请求中的特殊字符-报400-bad-request","link":"#spring-boot-get请求中的特殊字符-报400-bad-request","children":[]},{"level":2,"title":"Flowable启动时未生成表且报错","slug":"flowable启动时未生成表且报错","link":"#flowable启动时未生成表且报错","children":[]},{"level":2,"title":"Flowable指定DataSource","slug":"flowable指定datasource","link":"#flowable指定datasource","children":[]},{"level":2,"title":"Minio与SpringBoot关于okhttp3的版本问题","slug":"minio与springboot关于okhttp3的版本问题","link":"#minio与springboot关于okhttp3的版本问题","children":[]}],"relativePath":"chapter/note.md"}'),l={name:"chapter/note.md"},p=o(`<h1 id="记录" tabindex="-1">记录 <a class="header-anchor" href="#记录" aria-hidden="true">#</a></h1><h2 id="spring-boot-get请求中的特殊字符-报400-bad-request" tabindex="-1">Spring Boot get请求中的特殊字符，报400 bad request <a class="header-anchor" href="#spring-boot-get请求中的特殊字符-报400-bad-request" aria-hidden="true">#</a></h2><p><strong>原因：</strong> Tomcat升级到9+版本之后，严格执行了<code>RFC 3986</code> 和 <code>RFC 7230</code>标准，参数中的字符串只能包含字母（a-zA-Z）、数字（0-9）、-_.~4个特殊字符。<br><strong>解决办法：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Bean</span></span>
<span class="line"><span style="color:#C792EA;">TomcatServletWebServerFactory</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">webServerFactory</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">TomcatServletWebServerFactory</span><span style="color:#A6ACCD;"> serverFactory</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">TomcatServletWebServerFactory</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    serverFactory</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addConnectorCustomizers</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">            connector </span><span style="color:#C792EA;">-&gt;</span><span style="color:#A6ACCD;"> connector</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">relaxedQueryChars</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">[]{}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> serverFactory</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="flowable启动时未生成表且报错" tabindex="-1">Flowable启动时未生成表且报错 <a class="header-anchor" href="#flowable启动时未生成表且报错" aria-hidden="true">#</a></h2><p><strong>原因：</strong> 数据库链接中缺少nullCatalogMeansCurrent，导致在所有库中检查表。<br><strong>解决办法：</strong> 设置数据库链接参数nullCatalogMeansCurrent=true，只在当前库中检查。 另外，如果只需要流程主体，引入单个包即可。</p><div class="language-xml"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">org.flowable</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">flowable-spring-boot-starter-process</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\${flowable.version}</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="flowable指定datasource" tabindex="-1">Flowable指定DataSource <a class="header-anchor" href="#flowable指定datasource" aria-hidden="true">#</a></h2><p><strong>原因：</strong> 有时业务库和流程库不在一起，需要隔离开。<br><strong>解决办法：</strong> 使用EngineConfigurationConfigurer，更改默认配置。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Bean</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">EngineConfigurationConfigurer</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">SpringProcessEngineConfiguration</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">changeDataSource</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">DataSource</span><span style="color:#A6ACCD;"> dataSource </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DataSourceBuilder</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">url</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">url</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">username</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">username</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">password</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">password</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">type</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">DataSource</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">class</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">driverClassName</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">driverClassName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">build</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">configuration </span><span style="color:#C792EA;">-&gt;</span><span style="color:#A6ACCD;"> configuration</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDataSource</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dataSource</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="minio与springboot关于okhttp3的版本问题" tabindex="-1">Minio与SpringBoot关于okhttp3的版本问题 <a class="header-anchor" href="#minio与springboot关于okhttp3的版本问题" aria-hidden="true">#</a></h2><p><strong>描述：</strong> 启动时，出现NoClassDefFoundError报错。<br><strong>原因：</strong> Minio与SpringBoot 所以来的okhttp3版本不一致，导致初始化错误。<br><strong>解决办法：</strong> 在pom中指定与Minio依赖一直的okhttp3版本号。</p>`,12),e=[p];function t(r,c,D,F,y,i){return n(),a("div",null,e)}const d=s(l,[["render",t]]);export{A as __pageData,d as default};
